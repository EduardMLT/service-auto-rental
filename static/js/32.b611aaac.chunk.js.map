{"version":3,"file":"static/js/32.b611aaac.chunk.js","mappings":"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","sources":["api.js","components/pages/CatalogPage/CatalogPageList.styled.js","components/pages/CatalogPage/CatalogPageList.js","components/Modal/Modal.styled.js","components/Modal/Modal.js","components/pages/CatalogPage/CatalogPage.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://6574665df941bda3f2afb2f5.mockapi.io/api/v1/';\n\nexport const fetchHome = async (page = 1, filters) => {\n  try {\n    const response = await axios.get('/data-auto');\n    console.log('fetchHome - filters', filters);\n    let filteredCars = response.data;\n    console.log('fetchHome - filteredCars', filteredCars);\n\n    if (filters.make !== '') {\n      console.log('fetchHome - filters.make', filters.make);\n      filteredCars = filteredCars.filter(car => car.make === filters.make);\n      console.log('fetchHome - filteredCars', filteredCars);\n    }\n\n    if (filters.price !== '') {\n      filteredCars = filteredCars.filter(car => {\n        const rentalPriceNumeric = parseInt(\n          car.rentalPrice.replace(/\\D/g, ''),\n          10\n        );\n        return rentalPriceNumeric <= filters.price;\n      });\n    }\n\n    if (filters.minMileage !== null) {\n      filteredCars = filteredCars.filter(\n        car => Number(car.mileage) >= Number(filters.minMileage)\n      );\n    }\n\n    if (filters.maxMileage !== null) {\n      filteredCars = filteredCars.filter(\n        car => Number(car.mileage) <= Number(filters.maxMileage)\n      );\n    }\n    const startIndex = (page - 1) * filters.perPage;\n    const endIndex = startIndex + filters.perPage;\n    const currentItems = filteredCars.slice(startIndex, endIndex);\n    return currentItems;\n  } catch (error) {\n    console.error('Помилка при отриманні даних:', error);\n    throw error;\n  }\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul` \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 29px;\n  row-gap: 50px;\n  flex-wrap: wrap;\n  margin: 50px 0 100px;\n`;\n\nexport const Item = styled.li`\n  display: block;\n  padding: 10px, 15px;\n  font-family: Roboto sans-serif;\n  font-size: 22px;\n  font-weight: 700;\n  color: rgb(106 162 144);\n`;\n\nexport const TitleSpan = styled.span`\n  color: var(--pr-button-background-color);\n  font-size: 16px;\n\n  &:hover,\n  :focus {\n    color: var(--hovered-button-background-color);\n  }\n`;\n","import React from 'react';\n\nimport { List, Item, TitleSpan } from './CatalogPageList.styled';\n\nexport const HomeList = ({ items, openModal }) => {\n  return (\n    <List>\n      \n      {items.map(({ id, make, model, img }, index) => {\n        // console.log({  make, model});\n        return (\n          <Item key={id}>\n            <div onClick={() => openModal(index)}>\n              <TitleSpan>\n                {make} {model}\n              </TitleSpan>\n              <div>\n                <img src={img} width=\"200\" height=\"250\" alt=\"car\" />\n              </div>\n              <TitleSpan>\n                {make} {model}\n              </TitleSpan>\n            </div>\n          </Item>\n        );\n      })}\n    </List>\n  );\n};\n","import styled from 'styled-components';\n\n\n\nexport const ModalOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n`;\n\nexport const ModalContent = styled.div`\n  background: #fff;\n  padding: 20px;\n  border-radius: 8px;\n  position: relative;\n  z-index: 1001;\n  max-width: 900px;\n  width: 100%;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n`;\n\nexport const ModalClose = styled.span`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n  font-size: 20px;\n  color: #333;\n`;\n\nexport const StyledImage = styled.img`\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n  width: 600px;\n  height: 400px;\n  margin: auto;\n  display: block;\n`;\n","import React, {  useEffect } from 'react';\nimport {\n  ModalOverlay,\n  ModalContent,\n  ModalClose,\n  StyledImage,\n} from './Modal.styled'; \n\nconst Modal = ({ item, closeModal }) => {\n  \n  const getImageSize = (url) => {\n    const img = new Image();\n    img.src = url;    \n  };\n  \n  useEffect(() => {\n    getImageSize(item.img);\n  }, [item.img]);\n\n  return (\n    <ModalOverlay>\n      <ModalContent>\n        <ModalClose onClick={closeModal}>&times;</ModalClose>\n        <h2>\n          {item.make} {item.model}\n        </h2>\n        <StyledImage src={item.img} alt=\"car\" />\n        <p>Description: {item.description}</p>\n      </ModalContent>\n    </ModalOverlay>\n  );\n};\n\nexport default Modal;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport { fetchHome } from '../../../api';\nimport { HomeList } from './CatalogPageList';\nimport { Loader } from '../../LoaderSpinner/LoaderSpinner';\n\nimport Modal from '../../../components/Modal/Modal';\n\nconst CatalogPage = () => {\n  const [trends, setTrends] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [page, setPage] = useState(1);\n  const [isLastPage, setIsLastPage] = useState(false);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedItemIndex, setSelectedItemIndex] = useState(null);\n  const [filters, setFilters] = useState({\n    make: '',\n    price: '',\n    minMileage: null,\n    maxMileage: null,\n    perPage: 12,\n  });\n\n  const [makes, setMakes] = useState([]);\n\n  useEffect(() => {\n    console.log('Fetching makes...');\n\n    const fetchMakes = async () => {\n      try {\n        const response = await fetch('/path/to/makes.json');\n        const data = await response.json();\n        setMakes(data.makes);\n        console.log('Makes loaded:', data.makes);\n      } catch (error) {\n        console.error('Error fetching makes:', error);\n      }\n    };\n\n    fetchMakes();\n  }, []);\n\n  const openModal = index => {\n    setModalVisible(true);\n    setSelectedItemIndex(index);\n  };\n\n  const closeModal = () => {\n    setModalVisible(false);\n    setSelectedItemIndex(null);\n  };\n\n  const loadMore = async () => {\n    setLoader(true);\n    try {\n      const nextPageItems = await fetchHome(page + 1, filters);\n      if (nextPageItems.length === 0) {\n        setIsLastPage(true);\n      } else {\n        setTrends(prevItems => [...prevItems, ...nextPageItems]);\n        setPage(prevPage => prevPage + 1);\n      }\n    } catch (error) {\n      toast.error(error);\n    } finally {\n      setLoader(false);\n    }\n  };\n\n  const applyFilters = async () => {\n    setLoader(true);\n    try {\n      const filteredItems = await fetchHome(1, filters);\n      setTrends(filteredItems);\n      setPage(1);\n      setIsLastPage(false);\n    } catch (error) {\n      toast.error(error);\n    } finally {\n      setLoader(false);\n    }\n  };\n\n  const getMovies = useCallback(async () => {\n    setLoader(true);\n    try {\n      console.log('getMovies - filters ', { filters });\n      const movies = await fetchHome(1, filters);\n      if (movies.length === 0) {\n        console.log('1.1 -getMovies  ');\n        setIsLastPage(true);\n      } else {\n        console.log('1.2 -getMovies  ');\n        setTrends(movies);\n      }\n    } catch (error) {\n      toast.error(error);\n    } finally {\n      setLoader(false);\n    }\n  }, [setLoader, setIsLastPage, setTrends, filters]);\n\n  useEffect(() => {\n    getMovies();\n  }, [getMovies]);\n\n  return (\n    <>\n      {loader && <Loader />}\n      <div>\n        {/* <label>\n          Make:\n          <input\n            type=\"text\"\n            value={filters.make}\n            onChange={e =>\n              setFilters(prevFilters => ({\n                ...prevFilters,\n                make: e.target.value,\n              }))\n            }\n          />\n        </label> */}\n        <label>\n          Make:\n          <select\n            value={filters.make}\n            onChange={e =>\n              setFilters(prevFilters => ({\n                ...prevFilters,\n                make: e.target.value,\n              }))\n            }\n          >\n            console.log(\"make\", make);\n            <option value=\"\">Select Make</option>\n            {makes.map(make => (\n              <option key={make} value={make}>\n                {make}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          Price:\n          <input\n            type=\"text\"\n            value={filters.price}\n            onChange={e =>\n              setFilters(prevFilters => ({\n                ...prevFilters,\n                price: e.target.value,\n              }))\n            }\n          />\n        </label>\n        <label>\n          Min Mileage:\n          <input\n            type=\"number\"\n            value={filters.minMileage}\n            onChange={e =>\n              setFilters(prevFilters => ({\n                ...prevFilters,\n                minMileage: e.target.value,\n              }))\n            }\n          />\n        </label>\n        <label>\n          Max Mileage:\n          <input\n            type=\"number\"\n            value={filters.maxMileage}\n            onChange={e =>\n              setFilters(prevFilters => ({\n                ...prevFilters,\n                maxMileage: e.target.value,\n              }))\n            }\n          />\n        </label>\n        <button onClick={applyFilters}>Search</button>\n      </div>\n\n      <HomeList items={trends} openModal={openModal} />\n      {!isLastPage && <button onClick={loadMore}>Load More</button>}\n      {isLastPage && <p>This is the entire catalog.</p>}\n      {modalVisible && (\n        <Modal item={trends[selectedItemIndex]} closeModal={closeModal} />\n      )}\n      <Toaster position=\"bottom-center\" reverseOrder={true} />\n    </>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["axios","defaults","baseURL","fetchHome","async","page","arguments","length","undefined","filters","response","get","console","log","filteredCars","data","make","filter","car","price","parseInt","rentalPrice","replace","minMileage","Number","mileage","maxMileage","startIndex","perPage","endIndex","slice","error","List","styled","ul","_templateObject","_taggedTemplateLiteral","Item","li","_templateObject2","TitleSpan","span","_templateObject3","HomeList","_ref","items","openModal","_jsx","children","map","_ref2","index","id","model","img","_jsxs","onClick","src","width","height","alt","ModalOverlay","div","ModalContent","ModalClose","StyledImage","_templateObject4","item","closeModal","useEffect","url","Image","description","CatalogPage","trends","setTrends","useState","loader","setLoader","setPage","isLastPage","setIsLastPage","modalVisible","setModalVisible","selectedItemIndex","setSelectedItemIndex","setFilters","makes","setMakes","fetch","json","fetchMakes","getMovies","useCallback","movies","toast","_Fragment","Loader","value","onChange","e","prevFilters","target","type","filteredItems","nextPageItems","prevItems","prevPage","Modal","Toaster","position","reverseOrder"],"sourceRoot":""}